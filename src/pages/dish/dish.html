<!--
  Generated template for the DishPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title style="position: absolute;
  top: 0;
  left: 0;
  padding: 0 90px 1px;
  width: 100%;
  height: 100%;
  text-align: center;">{{restaurant_name}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div id="dishcontainer">
    <ion-card class="card">
      <ion-card-header>
        <ion-card-title class="dish-title">{{ dish.name }}</ion-card-title>
        <ion-label class="dish-price">{{ dish.price }}$</ion-label>
      </ion-card-header>
      <ion-card-content>
        <img  class="dish-image" [src]="dish.imageURL"/>
        <div class="allergen_box">
          <div *ngFor="let allergen of dish.allergens">
            <img class="allergen_icon" [src]="celery_image_url" *ngIf="allergen == 'celery'" alt="Celery" (click)="showInfoBubble('Celery')">
            <img class="allergen_icon" [src]="crustacean_image_url" *ngIf="allergen == 'crustacean'" alt="Crustacean" (click)="showInfoBubble('Crustacean')">
            <img class="allergen_icon" [src]="egg_image_url" *ngIf="allergen == 'egg'" alt="Egg" (click)="showInfoBubble('Egg')">
            <img class="allergen_icon" [src]="fish_image_url" *ngIf="allergen == 'fish'" alt="Fish" (click)="showInfoBubble('Fish')">
            <img class="allergen_icon" [src]="lupin_image_url" *ngIf="allergen == 'lupin'" alt="Lupin" (click)="showInfoBubble('Lupin')">
            <img class="allergen_icon" [src]="milk_image_url" *ngIf="allergen == 'milk'" alt="Milk" (click)="showInfoBubble('Milk')">
            <img class="allergen_icon" [src]="mollusc_image_url" *ngIf="allergen == 'mollusc'" alt="Mollusc" (click)="showInfoBubble('Mollusc')">
            <img class="allergen_icon" [src]="mustard_image_url" *ngIf="allergen == 'mustard'" alt="Mustard" (click)="showInfoBubble('Mustard')">
            <img class="allergen_icon" [src]="nuts_image_url" *ngIf="allergen == 'nuts'" alt="Nuts" (click)="showInfoBubble('Nuts')">
            <img class="allergen_icon" [src]="peanuts_image_url" *ngIf="allergen == 'peanuts'" alt="Peanuts" (click)="showInfoBubble('Peanuts')">
            <img class="allergen_icon" [src]="sasame_image_url" *ngIf="allergen == 'sesame'" alt="Sesame" (click)="showInfoBubble('Sesame')">
            <img class="allergen_icon" [src]="soya_image_url" *ngIf="allergen == 'soya'" alt="Soya" (click)="showInfoBubble('Soya')">
            <img class="allergen_icon" [src]="sulphur_image_url" *ngIf="allergen == 'sulphur'" alt="Sulphur" (click)="showInfoBubble('Sulphur')">
            <img class="allergen_icon" [src]="wheat_image_url" *ngIf="allergen == 'wheat'" alt="Wheat" (click)="showInfoBubble('Wheat')">
          </div>
        </div>
        <ion-label class="dish-calories">Calories : {{ dish.calories }} kCal</ion-label>

        <button *ngIf="activated != 1" ion-button (click)="showIngredients()" class="but" color="custom-light">Ingredients
          <ion-icon *ngIf="!showa" name="arrow-dropup" ></ion-icon>
          <ion-icon *ngIf="showa" name="arrow-dropdown" ></ion-icon></button>
        <button  *ngIf="activated == 1"ion-button (click)="showIngredients()" class="but" color="custom">Ingredients
          <ion-icon *ngIf="!showa" name="arrow-dropup" ></ion-icon>
          <ion-icon *ngIf="showa" name="arrow-dropdown" ></ion-icon></button>
        <div class="showingredients" *ngIf="show == true">
          <ion-list *ngFor="let ingredient of dish.ingredients" class="list">
            <ion-item class="item showingredients">
              <ion-icon name="checkmark"></ion-icon>
              {{ ingredient }}
            </ion-item>
          </ion-list>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
